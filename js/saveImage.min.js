var oCanvas=document.getElementById("c");function showDownloadText(){document.getElementById("buttoncontainer").style.display="none";document.getElementById("textdownload").style.display="block"}function hideDownloadText(){document.getElementById("buttoncontainer").style.display="block";document.getElementById("textdownload").style.display="none"} function convertCanvas(b){if(b=="PNG")var a=Canvas2Image.saveAsPNG(oCanvas,!0);b=="BMP"&&(a=Canvas2Image.saveAsBMP(oCanvas,!0));b=="JPEG"&&(a=Canvas2Image.saveAsJPEG(oCanvas,!0));if(!a)return alert("Sorry, this browser is not capable of saving "+b+" files!"),!1;a.id="canvasimage";a.style.border=oCanvas.style.border;oCanvas.parentNode.replaceChild(a,oCanvas);showDownloadText()} function saveCanvas(b,a){var c=!1;a=="PNG"&&(c=Canvas2Image.saveAsPNG(oCanvas));a=="BMP"&&(c=Canvas2Image.saveAsBMP(oCanvas));a=="JPEG"&&(c=Canvas2Image.saveAsJPEG(oCanvas));if(!c)return alert("Sorry, this browser is not capable of saving "+a+" files!"),!1}document.getElementById("savepngbtn").onclick=function(){saveCanvas(oCanvas,"PNG")};document.getElementById("savebmpbtn").onclick=function(){saveCanvas(oCanvas,"BMP")}; document.getElementById("savejpegbtn").onclick=function(){saveCanvas(oCanvas,"JPEG")};document.getElementById("convertpngbtn").onclick=function(){convertCanvas("PNG")};document.getElementById("convertbmpbtn").onclick=function(){convertCanvas("BMP")};document.getElementById("convertjpegbtn").onclick=function(){convertCanvas("JPEG")};document.getElementById("resetbtn").onclick=function(){var b=document.getElementById("canvasimage");b.parentNode.replaceChild(oCanvas,b);hideDownloadText()};