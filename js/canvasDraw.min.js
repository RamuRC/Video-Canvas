var colorPurple="#cb3594",colorGreen="#659b41",colorYellow="#ffcf33",colorBrown="#986928",colorWhite="#ffffff",curColor=colorPurple,clickColor=[],clickSize=[],curSize="normal",canvasWidth=640,canvasHeight=360;canvas=document.getElementById("c");context=document.getElementById("c").getContext("2d");$("#c").mousedown(function(b){paint=!0;addClick(b.pageX-this.offsetLeft,b.pageY-this.offsetTop);redraw()});$("#clearCanvas").mousedown(function(){clickX=[];clickY=[];clickDrag=[];clickColor=[];clearCanvas()}); $("#choosePurpleColors").mousedown(function(){curColor=colorPurple});$("#chooseGreenColors").mousedown(function(){curColor=colorGreen});$("#chooseYellowColors").mousedown(function(){curColor=colorYellow});$("#chooseBrownColors").mousedown(function(){curColor=colorBrown});$("#chooseWhiteColors").mousedown(function(){curColor=colorWhite});$("#chooseSmallSizes").mousedown(function(){curSize="small"});$("#chooseNormalSizes").mousedown(function(){curSize="normal"}); $("#chooseLargeSizes").mousedown(function(){curSize="large"});$("#chooseHugeSizes").mousedown(function(){curSize="huge"});$("#c").mousemove(function(b){paint&&(addClick(b.pageX-this.offsetLeft,b.pageY-this.offsetTop,!0),redraw())});$("#c").mouseup(function(){paint=!1});$("#c").mouseleave(function(){paint=!1});var clickX=[],clickY=[],clickDrag=[],paint;function addClick(b,a,c){clickX.push(b);clickY.push(a);clickDrag.push(c);clickColor.push(curColor);clickSize.push(curSize)} function redraw(){context.lineJoin="round";for(var b=5,a=0;a<clickX.length;a++)clickSize[a]=="small"?b=2:clickSize[a]=="normal"?b=5:clickSize[a]=="large"?b=10:clickSize[a]=="huge"&&(b=20),context.beginPath(),clickDrag[a]&&a?context.moveTo(clickX[a-1],clickY[a-1]):context.moveTo(clickX[a]-1,clickY[a]),context.lineTo(clickX[a],clickY[a]),context.closePath(),context.strokeStyle=clickColor[a],context.lineWidth=b,context.stroke()} function clearCanvas(){context.fillStyle="#ffffff";context.fillRect(0,0,canvasWidth,canvasHeight);canvas.width=canvas.width};